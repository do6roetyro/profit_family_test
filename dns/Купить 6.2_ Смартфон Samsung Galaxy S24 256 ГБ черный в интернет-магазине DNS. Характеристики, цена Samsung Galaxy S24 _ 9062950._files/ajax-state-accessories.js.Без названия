(()=>{"use strict";var e={96614:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Dom_addClasses=void 0,t.Dom_addClasses=function(e,t){t.forEach((function(t){e.classList.add(t)}))}},90804:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxStateProcessorAbstract=void 0;var n=r(96614),i=function(){function e(){var e=this;this._waitingElements=[],this.addWaitingState=function(t){(0,n.Dom_addClasses)(t,["ajs-placeholder","ajs-placeholder_waiting"]),e._waitingElements.push(t)}}return Object.defineProperty(e.prototype,"service",{set:function(e){this._service=e},enumerable:!1,configurable:!0}),e.prototype.needGetStateAfterBuild=function(e){return!0},e.prototype.refreshOnlyAfterUserActivity=function(e){return!1},e.prototype.afterRefresh=function(e){this._waitingElements.forEach((function(e){setTimeout((function(){e.classList.remove("ajs-placeholder_waiting")})),setTimeout((function(){e.classList.remove("ajs-placeholder")}),1e3)})),this._waitingElements=[]},e}();t.AjaxStateProcessorAbstract=i},16104:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._map=new Map,this._wrap=document.createElement("div"),this._wrap.classList.add("accessories-ajax-states"),document.body.appendChild(this._wrap)}return e.prototype.classAddition=function(){return"ajax-states-wrap"},e.prototype.parseState=function(e){this.addCompare(e),this.addBuy(e)},e.prototype.add=function(e,t){if(!this._map.has(e))if(t){var r=document.createElement("div");r.innerHTML=t,this._wrap.appendChild(r),this._map.set(e,r)}else this._map.delete(e)},e.prototype.addCompare=function(e){e.compare&&this.add("compare:"+e.code,e.compare)},e.prototype.addBuy=function(e){this.add("buy:"+e.code,e.buy)},e.prototype.getCompare=function(e){return this._get("compare:"+e)},e.prototype.getBuy=function(e){return this._get("buy:"+e)},e.prototype._get=function(e){return this._map.get(e)},e}();t.default=r},51809:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessoriesProcessor=void 0;var s=o(r(80138)),c=r(90804),a=o(r(16104)),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._screen=new s.default,t}return i(t,e),t.prototype.build=function(e){return{id:e.data.id,isDesktop:this._screen.isDesktop}},t.prototype.refresh=function(e,t){var r=this,n=document.getElementById(e.id);null!==n&&(this.addWaitingState(n),e.data.products.forEach((function(e){(e.buy||e.compare)&&(r._innerStates=r._innerStates||new a.default,r._innerStates.parseState(e))})))},t.prototype.afterRefresh=function(t){var r=this;t.states.forEach((function(e){var t=e.data,n=document.getElementById(e.id);null!==n&&(t&&0===t.products.length?n.remove():window.initAccessories(n,t,r._innerStates))})),e.prototype.afterRefresh.call(this,t)},t}(c.AjaxStateProcessorAbstract);t.AccessoriesProcessor=E},42601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenTypes=void 0,function(e){e[e.SCREEN_NOT_SUPPORTED=0]="SCREEN_NOT_SUPPORTED",e[e.SCREEN_WIDE=1]="SCREEN_WIDE",e[e.SCREEN_DESKTOP=2]="SCREEN_DESKTOP",e[e.SCREEN_TABLET=3]="SCREEN_TABLET",e[e.SCREEN_MOBILE=4]="SCREEN_MOBILE"}(t.ScreenTypes||(t.ScreenTypes={}))},80138:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(42601),i=function(){function e(){var e=this;this.SCREEN_MOBILE_MIN_WIDTH=320,this.SCREEN_MOBILE_MAX_WIDTH=767,this.SCREEN_TABLET_MAX_WIDTH=991,this.SCREEN_DESKTOP_MAX_WIDTH=1199,this.EVENT_RESIZE="resize",this.EVENT_OPTIMIZED_RESIZE="optimizedResize",this.EVENT_SCREEN_TYPE_CHANGED="screenTypeChanged",this._currentScreenType=null,this.optimizeResizeEvent=function(t){t=t||window;var r=!1;t.addEventListener(e.EVENT_RESIZE,(function(){r||(r=!0,requestAnimationFrame((function(){t.dispatchEvent(new CustomEvent(e.EVENT_OPTIMIZED_RESIZE));var n=e.calcCurrent();e._currentScreenType!==n&&(e._currentScreenType=n,t.dispatchEvent(new CustomEvent(e.EVENT_SCREEN_TYPE_CHANGED))),r=!1})))}))}}return Object.defineProperty(e.prototype,"current",{get:function(){return null===this._currentScreenType&&(this._currentScreenType=this.calcCurrent()),this._currentScreenType},enumerable:!1,configurable:!0}),e.prototype.calcCurrent=function(){var e=document.querySelector('meta[name="screen-type-helper"]');if(null!==e)return parseInt(e.content,10);var t=window.matchMedia;if(t){if(t("(min-width: "+(this.SCREEN_DESKTOP_MAX_WIDTH+1)+"px)").matches)return n.ScreenTypes.SCREEN_WIDE;if(t("(min-width: "+(this.SCREEN_TABLET_MAX_WIDTH+1)+"px)").matches)return n.ScreenTypes.SCREEN_DESKTOP;if(t("(min-width: "+(this.SCREEN_MOBILE_MAX_WIDTH+1)+"px)").matches)return n.ScreenTypes.SCREEN_TABLET;if(t("(min-width: "+this.SCREEN_MOBILE_MIN_WIDTH+"px)").matches)return n.ScreenTypes.SCREEN_MOBILE}else{var r=window.innerWidth;if(r>this.SCREEN_DESKTOP_MAX_WIDTH)return n.ScreenTypes.SCREEN_WIDE;if(r>this.SCREEN_TABLET_MAX_WIDTH)return n.ScreenTypes.SCREEN_DESKTOP;if(r>this.SCREEN_MOBILE_MAX_WIDTH)return n.ScreenTypes.SCREEN_TABLET;if(r>=this.SCREEN_MOBILE_MIN_WIDTH)return n.ScreenTypes.SCREEN_MOBILE}return n.ScreenTypes.SCREEN_NOT_SUPPORTED},e.prototype.check=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var i=n[r];if(i===this.current)return!0}return!1},Object.defineProperty(e.prototype,"isDesktop",{get:function(){return this.check(n.ScreenTypes.SCREEN_DESKTOP,n.ScreenTypes.SCREEN_WIDE)},enumerable:!1,configurable:!0}),e.prototype.addResizeListener=function(e){this.optimizeResizeEvent(window),window.addEventListener(this.EVENT_OPTIMIZED_RESIZE,e)},e.prototype.removeResizeListener=function(e){window.removeEventListener(this.EVENT_OPTIMIZED_RESIZE,e)},e.prototype.addChangeScreenTypeListener=function(e){this.optimizeResizeEvent(window),window.addEventListener(this.EVENT_SCREEN_TYPE_CHANGED,e)},e.prototype.removeChangeScreenTypeListener=function(e){window.removeEventListener(this.EVENT_SCREEN_TYPE_CHANGED,e)},e}();t.default=i}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}var n;n=r(51809),window.AjaxState.processors.register("accessories",new n.AccessoriesProcessor)})();