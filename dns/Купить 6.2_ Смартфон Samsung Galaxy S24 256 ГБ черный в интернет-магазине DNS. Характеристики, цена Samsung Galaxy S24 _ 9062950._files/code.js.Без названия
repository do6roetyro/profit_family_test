var _tmr=_tmr||[];
(function(){function Hb(a){!ta&&"number"===typeof a&&(ta=a);return Y&&Ib&&eb?(fb=[Ib-Y,eb-Y,Pa?Pa-Y:null,Qa?Qa-Y:null,ta?ta-Y:null].join("/"),Pa&&(Qa&&ta)&&(Hb=function(){return fb}),fb):null}function q(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function N(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function Jb(a,b){try{if(a.nodeName.toLowerCase()===b.toLowerCase())return a;if(a.parentNode)return Jb(a.parentNode,b)}catch(c){n&&
console.warn("[TopMailRu] Error#1.25",c)}return null}function Kb(a,b){if(null===a.offsetParent||(0==a.offsetHeight||0==a.offsetWidth||0==a.clientHeight||0==a.clientWidth)||b&&(0==a.offsetLeft||0==a.offsetTop))return!1;if(void 0!==e.getComputedStyle){var c=e.getComputedStyle(a,null);return"none"!==c.display&&"hidden"!==c.visibility}return!0}function Lb(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return!0;return!1}function ca(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]==a)return!0;return!1}function Z(a){var b=
typeof a;return!("number"===b||"boolean"===b||"string"===b||a.nodeType||a===a.window)}function da(a){return"[object Array]"===Object.prototype.toString.call(a)}function pa(){var a=arguments,b=a[0]||{},c=!1,d=1,g=a.length,k,h,s,e,m;"boolean"===typeof b&&(c=b,b=a[d++]||{});for(Z(b)||(b={});d<g;d++)if(null!=(k=a[d]))for(h in k)s=b[h],e=k[h],b!==e&&(c&&e&&(Z(e)||(m=da(e)))?(m?(m=!1,s=s&&da(s)?s:[]):s=s&&Z(s)?s:{},b[h]=pa(c,s,e)):void 0!==e&&(b[h]=e));return b}function Mb(a,b,c){if(!a)return null;var d=
a.match(b),g=2<arguments.length?c:0;return d&&d.length>g?d[g]:null}function Nb(a){return(""+a).replace(/[\/\^\$\*\+\?\.\|\(\)\[\]\{\}\\]/g,"\\$&")}function gb(a){return Mb(a.host,/^(?:w{3}.)?(.*)$/,1)||""}function Ac(a,b,c){a=gb(a);b=(b&&0<b?b:URL_HELPER__MASK_LEVEL)-1;var d=1;a=a.replace(RegExp("^.*(?:\\.((?:[^\\.]+\\.){"+b+"}[^\\.]+$))"),"$1");if(d=a.match(/\./g))d=d.length;a="(?:^|\\.{"+(b-d+1)+"})"+Nb(a)+"$";return RegExp(c?"^((?!"+a+").)*$":a)}function hb(a){var b;if(da(a)){b=[];for(var c=0,
d=a.length;c<d;c++)b.push(hb(a[c]));return b}b=a instanceof RegExp?a:RegExp("^"+Nb(a)+"$");return b.test(gb(y))?null:b}function Ob(a){var b="";try{var c=new Uint8Array(a);e.crypto.getRandomValues(c);for(var d=0;d<a;d++)b+=(c[d]%16).toString(16)}catch(g){b="";for(d=0;d<a;d++)c=Math.floor(16*Math.random()),b+=c.toString(16)}return b}function x(){return(new Date).getTime()}function J(a,b){var c={data:b,raw:a,url:ib(a)},d;if(!Bc||"function"!==typeof navigator.sendBeacon)d=!1;else{c.dataSplitter=";";var g=
jb(c.data,c.dataSplitter);try{d=!0===navigator.sendBeacon(c.url,g)}catch(k){d=!1}}d||(void 0===b?(c.dataSplitter=";",c.open=Cc,c.connect=Dc,c.startListen=Ec,c.stopListen=Fc,c.open(c),c.connect(c)):("function"===typeof e.XMLHttpRequest?(c.dataSplitter=";",c.open=Gc,c.connect=Hc,c.startListen=Ic,c.stopListen=Jc,c.open(c),c.connect(c),d=!0):d=!1,d||Kc(c)))}function Kc(a){var b=f.createElement("iframe"),c=f.createElement("div");c.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");
c.appendChild(b);f.body.appendChild(c);try{var d=b.contentWindow.document,g=d.createElement("div"),k;for(k in a.data)if(a.data.hasOwnProperty(k)){var h=a.data[k],s=typeof h;if("string"===s||"number"===s){var e=d.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name",k);e.value=h;g.appendChild(e)}}var m=d.createElement("form");m.setAttribute("action",a.url);m.setAttribute("method",Pb);m.setAttribute("enctype",Qb);m.appendChild(g);var Rb=d.createElement("div");Rb.appendChild(m);
d.body.appendChild(Rb);var u=function(){try{N(b,"load",u),f.body.removeChild(c)}catch(a){n&&console.warn("[TopMailRu] Error#1.2",a)}};q(b,"load",u);m.submit()}catch(l){n&&console.warn("[TopMailRu] Error#1.3",l)}}function Gc(a){a._connection=new e.XMLHttpRequest}function Hc(a){a._connection.open(Pb,a.url);a._connection.setRequestHeader("Content-Type",Qb);a._connection.send(jb(a.data,a.dataSplitter))}function Ic(a){q(a._connection,"load",a._onload);q(a._connection,"error",a._onerror)}function Jc(a){N(a._connection,
"load",a._onload);N(a._connection,"error",a._onerror)}function Cc(a){a._connection=new Image}function Dc(a){a._connection.src=a.url+jb(a.data,a.dataSplitter)}function Ec(a){a._connection.onload=a._onload;a._connection.onerror=a._onerror}function Fc(a){a._connection.onload=null;a._connection.onerror=null}function jb(a,b){var c=b||";",d="",g;for(g in a)if(a.hasOwnProperty(g)){var k=a[g],h=typeof k;if("string"===h||"number"===h)d+=c+escape(g)+"="+escape(k)}return d}function ib(a){a="string"===typeof a?
a:"/";return"https://top-fwz1.mail.ru"+("/"===a.substring(0,1)?"":"/")+a}function ka(a){return(a=f.cookie.match(RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(a[1]):null}function ua(a,b,c){c=c||{};var d=c.expires;"number"===typeof c.expires&&(d=new Date,d.setTime(d.getTime()+c.expires));d&&d.toUTCString&&(d=d.toUTCString());c.expires=d;a=a+"="+encodeURIComponent(b);for(var g in c)if((b=c[g])||0===b)a+="; "+g,!0!==b&&(a+="="+b);f.cookie=a}function kb(a,
b){var c=b||{};c.expires=-1;ua(a,"",c)}function Lc(){var a="tmr"+(""+Math.random()).slice(2);try{return la=e.localStorage||null,la.setItem(a,a),la.removeItem(a),!0}catch(b){return la=null,n&&console.warn("[TopMailRu] Error#1.4",b),!1}}function ya(a){try{return la.getItem(a)}catch(b){n&&console.warn("[TopMailRu] Error#1.5",b)}return null}function Aa(a,b){try{la.setItem(a,b)}catch(c){n&&console.warn("[TopMailRu] Error#1.6",c)}}function Mc(){if(!ea)return null;for(var a=y.hostname.split(".").reverse(),
b,c=1,d=a.length;c<d;c++){b=a[0];for(var g=1;g<=c;g++)b=a[g]+"."+b;var g=""+x(),k={domain:b,path:"/",expires:3E5};try{ua("tmr_tcdhn",g,k);var h=ka("tmr_tcdhn");kb("tmr_tcdhn",k);if(h===g)return b}catch(e){n&&console.warn("[TopMailRu] Error#1.8",e)}}return null}function Sb(a,b){ea&&ua(a,b,lb);ma&&Aa(a,b)}function mb(a,b,c){var d=f.createElement("script");d.type="text/javascript";d.async=!0;b&&(d.onload=b);c&&(d.onerror=c);d.src=a;document.body.appendChild(d)}function Tb(a){var b=";e="+escape("detect");
J(M(a,K,!1,!1)+b)}function Ub(a,b){if(a.length&&null!==b.ecom_data){var c=wa(b.ecom_data),c=c?(""+c).substring(1,c.length-1):"";if(!(4096<c.length||-1===c.search(/\S/))){var d=nb("_m",b.ecom_method),g=nb("_t",b.ecom_type),k=nb("_jst",Vb()),c="{"+c+d+g+k+"}";J(M({id:a[0]},Nc,!1,!0)+(";ids="+escape(a.join()))+(";e="+escape(c)))}}}function nb(a,b){var c=',"'+a+'":';if(!b||!b.length)return c+"[]";try{return c+'["'+b.join('","')+'"]'}catch(d){}return c+"false"}function Oc(){var a=ka(Wb);if(null===a)return null;
a=a.split("|");if(3!==a.length)return null;var b=a[2],b=x()-b;return 0>b||b>Xb?null:{id:a[0],version:a[1]}}function Yb(a){ob=!0;a.length&&mb(ib("/js/dyn-goal-config.js?ids="+a.join(",")))}function l(){}function Ba(a){a&&"object"===typeof a&&(!$&&"id"in a)&&($=a.id)}function Ca(a){return!Ra?void 0:Ra[a]}function Pc(a){return(a=Ca(a))&&Sa?a-Sa:void 0}function Zb(){if(Ra){for(var a=0,b="domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),
c=0;c<b.length;c++){var d=Ca(b[c]);if(0<d&&(d<a||0==a))a=d}return a?a:void 0}}function O(a,b){var c=1<arguments.length?b:$;return a&&"object"===typeof a&&("id"in a&&a.id||c)}function $b(a,b,c,d){var g=parseInt(a,10);return isNaN(g)||""+g!==""+a||g<b||g>c?d||0===d?d:null:g}function ac(a,b){if("URL"in window){var c=b;try{c=new URL(a)}catch(d){return b}return c?a:b}return a||b}function bc(a,b){if("URL"in window){var c=b;try{c=new URL(a)}catch(d){return"d:"}return c?"e:":"d:"}return a?"e:":"d:"}function cc(a,
b,c){if(!a)return b;if("URL"in window){try{var d=new URL(a);if(d)return a}catch(g){}try{if(d=new URL(a,c))return d.href?d.href:d.toString()}catch(k){}return b}return a}function dc(a,b,c){if(!a)return"d:";if("URL"in window){try{var d=new URL(a);if(d)return"e:"}catch(g){}try{if(d=new URL(a,c))return"h:"}catch(k){}return"d:"}return"e:"}function M(a,b,c,d){ma&&Aa(Da,++H);var g="id"in a?a.id:$,k=ac(a.url,y.href),h=ac(a.referrer,f.referrer),s=cc(a.url,y.href,y.href),za=cc(a.referrer,f.referrer),m="title"in
a?a.title:f.title,l;l=pb;null===l&&(l=Qc());l=null!==l?l?1:0:null;var u="userid"in a?a.userid:T||0===T?T:void 0,v=qa?qa:void 0,p;p=na&&a.bfCache;var r="pageView"===a.type&&a.timespent,w=[];$&&g!==$&&w.push("sec");"dataLayer"in e&&w.push("dl");P&&w.push(["ecom"].concat(P).join("-"));var Ea=Rc();Ea&&Ea.length&&w.push(["jst"].concat(Ea).join("-"));p&&w.push("bfc");Q&&r&&w.push("ts");e.top!==e&&w.push("frame");(!0===B.webdriver||f.$cdc_asdjflasutopfhvcZLmcfl_)&&w.push("wda");Fa&&w.push.apply(w,Fa);p=
w.join(",");r=(new Date).getTimezoneOffset();w="";if(e.Intl)try{w=e.Intl.DateTimeFormat().resolvedOptions().timeZone||""}catch(Sc){n&&console.warn("[TopMailRu] Error#1.1",Sc)}Ea=r+"/"+w;r=ec;r=null!==r?r:Oc();w=Hb(a.start);b=b+"?_="+Math.random()+(g?";id="+escape(g):"")+(s?";u="+escape(s):"")+(za?";r="+escape(za):"")+(k!==s?";u2="+bc(a.url,y.href)+dc(a.url,y.href,y.href):"")+(h!==za?";r2="+bc(a.referrer,f.referrer)+dc(a.referrer,f.referrer):"");g=$b(a.gender,1,2);b+=null!==g?";gender="+g:"";g=$b(a.age,
1,127);d=b+(null!==g?";age="+g:"")+("pid"in a?";pid="+escape(a.pid):"")+(void 0!==u?";userid="+escape(u):"")+(void 0!==v?";uparams="+escape(wa(v)):"")+(d&&m?";title="+encodeURIComponent(m):"");m=";s="+Tc+";vp=";v=u=0;f.documentElement&&(f.documentElement.clientWidth||f.documentElement.clientHeight)?(u=f.documentElement.clientWidth,v=f.documentElement.clientHeight):"number"==typeof e.innerWidth&&(u=e.innerWidth,v=e.innerHeight);d=d+(m+(""+u+"*"+v)+";touch="+Uc+";hds="+Vc)+";sid="+qb+";ver="+Wc+";tz="+
encodeURIComponent(Ea)+";st="+Zb();if(c){if(!Ra||!rb)c="";else{c=[];c.push(rb.type);c.push(rb.redirectCount);c.push(Sa);for(m=0;m<fc.length;m++)c.push(Pc(fc[m]));c=c.join("/")}c=";nt="+c}else c="";c=d+c+(w?";ct="+w:"")+(Ta?";rt="+Ta:"")+(Ua?";gl="+Ua:"")+("device"in a?";device="+escape(a.device):"")+";ni=";if(!B||!B.connection)w="";else{w=B.connection;d=[];for(u=0;u<gc.length;u++){m=w[gc[u]];if(void 0!==m)switch(m){case !0:m=1;break;case !1:m=0;break;default:m=(""+m).replace(/\//g,"_")}d.push(m)}w=
d.join("/")}return c+w+("params"in a?";params="+escape(wa(a.params)):"")+(null!==l?";detect="+l:"")+(ea||ma?";lvid="+escape([fa,x(),H,R].join(":")):"")+(p?";opts="+escape(p):"")+(r?";flocid="+escape(r.id)+";flocv="+escape(r.version):"")+(hc&&Ga?";fpid="+Ga:"")+("version"in a?";appver="+escape(a.version):"")+(ga.support?";visible="+ga.getValue():"")+";js=13"}function sb(a){a=";e="+escape(a);for(var b=0;b<C.length;b++)J(M(C[b],K,!1,!0)+a)}function Xc(){pb=!0;ic(1);if(!tb&&!Ha){Ha=!0;for(var a=0;a<C.length;a++)Tb(C[a])}}
function Yc(){ic(0);pb=!1}function Qc(){var a=ka(jc);if(null===a)return null;a=a.split("|");if(2!==a.length)return null;var b=a[1],b=x()-b;if(0>b||b>kc)return null;a=parseInt(a[0],10);return isNaN(a)?null:a}function ic(a){var b=x();a=[a,b].join("|");ua(jc,a,{path:"/",expires:kc})}function Zc(){var a=0;Va&&(a=x()-Va);$c||(D.dcl3=setTimeout(function(){sb("DCL/3")},Math.max(3E3-a,0)))}function ad(){var a=0;Wa&&(a=x()-Wa);bd||(D.pvt2=setTimeout(function(){sb("PVT/2")},Math.max(2E3-a,0)));cd||(D.pvt15=
setTimeout(function(){sb("PVT/15")},Math.max(15E3-a,0)))}function lc(){ub||setInterval(function(){_tmr.beat()},6E4)}function dd(a,b,c,d){if(!b||!d||d===vb&&b===vb&&c===vb)return null;b={goal:ed+b,value:c||0,params:{product_id:d}};a&&(b.id=a);return b}function Xa(){Va=x();f.addEventListener?(N(f,"DOMContentLoaded",Xa),_tmr.onready()):f.attachEvent&&"complete"===f.readyState&&(N(f,"readystatechange",Xa),_tmr.onready());mc()}function wb(a){Wa=x();if(na){if(a.persisted){Ia=Ja=Ya=0;xb=yb=!1;Q&&z.launch();
a=zb;zb=[];for(var b=0,c=a.length;b<c;b++)_tmr.callbackOnReady(a[b]);a=Za;Za={};for(b in a)_tmr.pageView(a[b]);lc()}}else N(e,"load",wb);_tmr.onready();_tmr.onload()}function Ka(){na||(N(e,"unload",Ka),N(e,"beforeunload",Ka));_tmr.unload()}function mc(){Q&&z.launch();if(fd&&nc){window.addEventListener("message",function(a){var c=null;try{if(c=a.data,Z(c)||(c=$a(c)),"LOAD_BUTTONS_SCRIPT"===c.type){var d;var g=document.referrer;a=null;var k=(""+c.lang).toLowerCase();Lb(k,oc)||(k=oc[0]);try{a=(new URL(g)).host}catch(h){}d=
a&&gd.test(a)?"https://"+a+"/top_constructor/buttons_"+k+".js":ib("/js/dyn-goal-wizard-"+k+".js");mb(d)}}catch(e){}});if(window.opener)try{window.opener.postMessage({type:"READY"},document.referrer)}catch(a){}ob||(ab.push.apply(ab,La),Yb(La))}}if("[object Array]"===Object.prototype.toString.call(_tmr)){var Ib=(new Date).getTime(),eb=null,Pa=null,Qa=null,ta=null,Y=null,fb=null,K="/tracker",Nc="/datalayer",e=window,B=navigator,f=document,y=location,aa="string"===typeof y.hostname?y.hostname:"",Ma=-1!=
aa.search(/(^|\.)odnoklassniki\.ru$/)||-1!=aa.search(/(^|\.)ok\.ru$/),pc=-1!=aa.search(/(^|\.)vk\.com$/);aa.search(/(^|\.)mail\.ru$/);var hd=-1!=aa.search(/(^|\.)lamoda\.ru$/),id=-1!=aa.search(/(^|\.)kommersant\.ru$/);aa.search(/(^|\.)top\.mail\.ru$/);aa.search(/(^|\.)dzen\.ru$/);var qc="string"===typeof y.search&&-1!=y.search.search(/[?&]rb_clickid=/),n="string"===typeof y.search&&-1!=y.search.search(/[?&]tmr_debug=1(?:&|$)/),Bc=!1,ub=Ma||pc||hd||id,bd=!qc,cd=Ma,$c=!qc,tb=!1,Q=e.performance&&"visibilityState"in
f,jd=[36383],kd=!(Ma||pc),fd=!0,hc=!0,rc=e.JSON&&e.JSON.stringify&&e.JSON.parse,na="onpageshow"in e&&"onpagehide"in e,nc="URL"in e,wa=rc?e.JSON.stringify.bind(e.JSON):function(a){return""},$a=rc?e.JSON.parse.bind(e.JSON):function(a){return{}},oc=["ru","en"],gd=/^(ads\d+\.my\.com)$/,Pb="POST",Qb="application/x-www-form-urlencoded",ea=!(0===y.hostname.search(/^(\d+.)+\d+$/g)||-1!==y.hostname.search(/:/g)),la=null,ma=Lc(),lb={domain:Mc(),path:"/",expires:287712E5};(function(){var a;if(a=f.cookie.match(RegExp("(?:^|; )(tmr_tcdhn\\d+)=([^;]*)",
"g"))){for(var b=[],c,d=0,g=a.length;d<g;d++)c=a[d],(c=c.match(/(?:^|; )(tmr_tcdhn\d+)=([^;]*)/))&&b.push(c.slice(1));a=b}else a=null;if(a){d=0;for(g=a.length;d<g;d++)b=a[d][0],kb(b,lb)}})();var Ha=!1,pb=null,kc=864E5,jc="tmr_detect",ld=function(){function a(a,b){for(var c=a.length,h,e,f=0;f<b;f++)e=Math.floor(Math.random()*c),h=a[f],a[f]=a[e],a[e]=h;return a.slice(0,b)}function b(b,g){var k=f.createElement("div"),e=String.fromCharCode(97,100,118,98,108,111,99,107,32,97,100,118,101,114,116,98,108,
111,99,107,32,97,100,118,101,114,116,66,108,111,99,107,32,98,45,114,98,32,98,97,110,110,101,114,95,50,52,48,32,112,45,116,97,114,103,101,116,32,112,117,98,95,51,48,48,120,50,53,48,32,112,117,98,95,51,48,48,120,50,53,48,109,32,112,117,98,95,55,50,56,120,57,48,32,114,98,95,98,111,100,121,32,114,98,45,102,108,111,97,116,105,110,103,32,114,98,45,115,108,111,116,32,114,98,45,118,105,100,101,111,45,119,105,100,103,101,116,32,116,101,120,116,45,97,100,32,116,101,120,116,45,97,100,45,108,105,110,107,115,
32,116,101,120,116,45,97,100,115,32,116,101,120,116,45,98,97,110,110,101,114,32,116,101,120,116,95,97,100,32,116,101,120,116,95,97,100,115,32,116,101,120,116,65,100,32,116,101,120,116,97,100,32,116,101,120,116,65,100,115,32,116,101,120,116,97,100,115,32,116,103,98,45,98,97,110,110,101,114,32,116,114,103,45,98,45,98,97,110,110,101,114,45,98,108,111,99,107).split(" "),e=a(e,c);k.setAttribute("class",e.join(" "));k.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");
k.setAttribute("id","trg-b-banners-1");k.setAttribute("data-view","SlotView.mimic");this.bait=f.body.appendChild(k);this.bait.offsetParent;this.bait.offsetHeight;this.bait.offsetLeft;this.bait.offsetTop;this.bait.offsetWidth;this.bait.clientHeight;this.bait.clientWidth;this.loopNumber=0;this.fnPositive=b||null;this.fnNegative=g||null;var s=this;setTimeout(function(){s._checkBait.call(s)},1)}var c=7;b.prototype._checkBait=function(){if(Ha)this._stop();else{var a=null!==f.body.getAttribute("abp")||
!Kb(this.bait,!0);(!0===a||10<=++this.loopNumber)&&this._stop();var b;if(a&&this.fnPositive)try{b=this.fnPositive,b()}catch(c){n&&console.warn("[TopMailRu] Error#1.9",c)}else if(!a&&10>this.loopNumber){var e=this;setTimeout(function(){e._checkBait.call(e)},50*this.loopNumber)}else try{b=this.fnNegative,b()}catch(s){n&&console.warn("[TopMailRu] Error#1.10",s)}}};b.prototype._stop=function(){try{f.body.removeChild(this.bait)}catch(a){n&&console.warn("[TopMailRu] Error#1.11",a)}};return function(a,c){new b(a,
c)}}(),P=null,sc="ecommerce",U="dataLayer",ha=null,Ab=!1,bb=[],md=[36383,2540645,3171181,3074137,2057653],nd=[],Bb;(function(){function a(a,b){for(var c=0,d=b.length;c<d;c++)-1===a.indexOf(b[c])&&a.push(b[c])}function b(b,c,d){for(var g={ecom_method:[],ecom_type:[],ecom_data:{events:[]}},k=0,e=b.length;k<e;k++){var h=r[b[k]];if(h){a(g.ecom_method,[b[k]]);for(var m=0,s=h.length;m<s;m++)for(var f=0,za=d.length;f<za;f++){var l=h[m][d[f]];if(l)for(var t=0,n=c.length;t<n;t++)if(-1!==h[m].type.indexOf(c[t])){a(g.ecom_type,
[c[t]]);a(g.ecom_data.events,l);break}}}}return g}function c(a,b,c){if(!a||!c||!(b in r))return null;for(var d,g=0,k=r[b].length;g<k;g++)if(d=r[b][g],c in d&&-1!==d[c].indexOf(a))return{ecom_method:[b],ecom_type:d.type.slice(),ecom_data:{}};return null}function d(a){for(var d=[],e,h,l=0,od=a.length;l<od;l++)if(h=a[l]){e=null;try{if(h.ecommerce)e=g(h)||k(h);else if(null===h.ecommerce)e=null;else if(h.event){var tc={event:h.event,ecommerce:{}};e=g(tc)||k(tc)}else if("event"===h[0]){var uc=h[1],u=h[2],
A=c(uc,f,v);A&&(A.ecom_data[uc]=u);e=A}else if(h.event===sc)a:{for(var E=b([s],[m],[p]),G=0,t=E.ecom_data.events.length;G<t;G++)if(!h.hasOwnProperty(E.ecom_data.events[G])){e=null;break a}delete E.ecom_data.events;E.ecom_data[sc]=h;e=E}}catch(r){n&&console.warn("[TopMailRu] Error#1.23",r),e=null}e&&(d.push(e),bb.push(e))}if(d.length){a=0;for(e=d.length;a<e;a++)Ub(cb,d[a]);P||(P=[0,0,U]);P[0]+=d.length;e=a=0;for(l=d.length;e<l;e++)a+=wa(d[e].ecom_data).length;P[1]+=a}}function g(a){var b,d;for(d in a.ecommerce)if(a.ecommerce.hasOwnProperty(d)&&
(b=c(d,s,l))){if(a.event&&(d=c(a.event,s,u)))for(var e=0,g=b.ecom_type.length;e<g;e++)-1===d.ecom_type.indexOf(b.ecom_type[e])&&(b.ecom_type.splice(e,1),g--,e--);b.ecom_data=a.ecommerce;return b}return null}function k(a){var b=a.event,d=c(b,s,u);d&&(d.ecom_data[b]=a.ecommerce);return d}function h(a){if((a=e[a])&&"function"===typeof a.push)d(a),ha=a.push,a.push=function(){var a=ha.apply(this,arguments);d([].slice.call(arguments,0));return a}}var s="push",f="gtag",m="gse",l="inner",u="outer",v="external",
p="required",r={};r[f]=[{type:["gee"],external:"add checkout checkout_option checkout_progress click detail promo_click remove select_content set_checkout_option view_refund".split(" ")},{type:["ga4"],external:"earn_virtual_currency join_group level_end level_start level_up post_score select_content spend_virtual_currency tutorial_begin tutorial_complete unlock_achievement ad_impression login search share sign_up add_payment_info add_shipping_info add_to_wishlist generate_lead select_item select_promotion view_cart view_item_list".split(" ")},
{type:["gee","ga4"],external:"add_to_cart begin_checkout purchase refund remove_from_cart view_item view_promotion".split(" ")}];r[s]=[{type:[m],required:["transactionId","transactionTotal"]},{type:["ga4"],outer:b([f],["ga4"],[v]).ecom_data.events},{type:["gee"],inner:"click checkout checkout_option impressions promoClick promoView refund".split(" "),outer:"addToCart checkout checkoutOption productClick productDetail ProductImpressions promotionClick promotionView removeFromCart transactionPush".split(" ")},
{type:["ym","gee"],inner:["add","detail","purchase","remove"]},{type:["mt"],outer:["mt_order","mt_refund"]}];Bb=function(a){if(!(a===U&&ha)){a!==U&&(bb=[]);var b=e[U];b&&"function"===typeof b.push&&ha&&(b.push=ha,ha=null);h(a);Ab=!0}}})();var Vb=function(){var a=[{id:"gtag",globalVars:["google_tag_manager"]},{id:"ga",globalVars:["GoogleAnalyticsObject"]},{id:"ym",globalVars:["Ya",{re:"yaCounter\\d+"}]},{id:"vk",globalVars:["VK"]},{id:"vk",globalVars:["vkAsyncInit"]}],b={};return function(){var c;
try{c=Object.keys(e).join(",")}catch(d){c=null}for(var g=[],k,h=0,f=a.length;h<f;h++){k=b[a[h].id];if(void 0===k)a:{k=a[h].globalVars;for(var l=c,m=0,n=k.length;m<n;m++){var u=k[m];if("string"===typeof u&&!(u in e)||"string"===typeof u.re&&(l&&-1===l.search(RegExp("($|,)"+u.re+"(,|^)","m"))||1===n)){k=!1;break a}}k=!0}k&&(b[a[h].id]=!0,ca(a[h].id,g)||g.push(a[h].id))}return g}}(),Rc=Vb,Xb=864E5,Wb="tmr_floc",ec=null;(function(a){try{f.interestCohort&&"function"===typeof f.interestCohort&&f.interestCohort().then(function(a){ec=
{id:a.id,version:a.version};a=[a.id,a.version];var b=x();a=a.concat(b).join("|");ua(Wb,a,{path:"/",expires:Xb})},function(){})}catch(b){}})();var Cb=!1,Ua=null,Na=null,Db=!1,vc;(function(){function a(a){try{var c=a.state;Na=c in h?h[c]:k;Db=c===e;Cb&&b(Db)}catch(d){}}function b(a){try{a?(B[d].getCurrentPosition(c),f||(f=B[d].watchPosition(c))):(f&&B[d].clearWatch(f),c(null))}catch(b){}}function c(a){if(a)try{var b=a.coords,b=[b.latitude,b.longitude,b.accuracy,b.altitude,b.altitudeAccuracy,b.heading,
b.speed];a=0;for(var c=b.length;a<c;a++)"number"!==typeof b[a]&&(b[a]="");b.splice(0,0,Na);Ua=b.join("/")}catch(d){}else Ua=Na}var d="geolocation",e="granted",k="u",h={denied:"d"};h[e]="g";h.prompt="p";var f=null;(function(){Na=k;c(null);try{d in B?B.permissions&&B.permissions.query({name:d}).then(function(b){a(b);b.onchange=function(){a(b)}}):Na="n"}catch(b){}})();vc=b})();var ga={support:!1},ga=function(){function a(){g(h)}function b(){g(h,v)}function c(a){a.persisted&&(p[h]=null,p[s]=null,g(h,
n))}function d(){return l?!f[l]:null}function g(a,b){var c=x(),e="undefined"===typeof b?d():b;if(null===p[a])p[a]={ts:c,state:e,total:0};else{var g=p[a];if(g.state!==e&&!(g.state===v&&e!==n)){var h=c-g.ts,f=g.state;g.ts=c;g.state=e;h<k||(f===n?(g.total+=h,r&&r(c,h)):f===u&&w&&w(c,h))}}}var k=5,h="auto",s="user",l=null,m=null,n=!0,u=!1,v=null;"hidden"in f?(l="hidden",m="visibilitychange"):"mozHidden"in f?(l="mozHidden",m="mozvisibilitychange"):"webkitHidden"in f?(l="webkitHidden",m="webkitvisibilitychange"):
"msHidden"in f&&(l="msHidden",m="msvisibilitychange");var p={};p[h]=null;var r=p[s]=null,w=null;return{support:!!l,auto:function(d,g){r=d||null;w=g||null;l&&(a(),q(f,m,a));na?(q(e,"pageshow",c),q(e,"pagehide",b)):(q(e,"beforeunload",b),q(e,"unload",b))},set:function(a){g(s,!!a)},getLog:function(){var a=x(),b={},c,d;for(d in p)c=p[d],b[d]=c?c.total:0,c&&c.state&&(b[d]+=a-c.ts);return b},getValue:d}}();ga.auto();var wc={enabled:!1};if(nc){var xc=function(){var a="checkbox color date datetime-local email file month number password radio range search tel text time url week".split(" ");
return{analyze:function(b){if(!b)return null;for(var c=[].slice.apply(b.elements),d=[],e=[],k=0,h=c.length;k<h;k++){var f;a:switch(f=c[k],f.tagName.toLowerCase()){case "button":f=!1;break a;case "input":var l=f.type.toLowerCase();if(l&&-1===a.indexOf(l)){f=!1;break a}default:f=Kb(f,!1)&&f.name&&!1===f.disabled}f&&(d.push(c[k].name),e.push(c[k].type))}return{node:b,inputsName:d.length?d:null,inputsType:e.length?e:null}},getFormByInput:function(a){if(!a)return null;a=a.form||a.getAttribute("form");
return"string"===typeof a?document.getElementById(a)||null:a instanceof HTMLElement?a:null}}}(),wc=function(){function a(a){a=a||e.event;var c=(a.which||a.keyCode)===M;if("which"in a&&a.which===J||"button"in a&&a.button&J||c){a:{a=a.target||a.srcElement;for(var c=0,d=h.length;c<d;c++){var f;b:{f=a;for(var A=h[c],E=0,G=A.types.length;E<G;E++){var t;c:{var r=f;t=A.types[E];var p=null;if(t.filter.tagName)for(var v=0,q=t.filter.tagName.length;v<q&&!(p=Jb(r,t.filter.tagName[v]));v++);else p=r;if(p){if(t.filter.attr)for(r in r=
void 0,t.filter.attr)if(t.filter.attr.hasOwnProperty(r)&&(v=t.filter.attr[r],q=p[r],!0===v&&!q||!1===v&&q||da(v)&&-1===v.indexOf(q))){t=null;break c}t={source:p,type:t.type,detail:p.tagName}}else t=null}if(t){t.category=A.category;f=t;break b}}f=null}if(f){a=f;break a}}a=null}if(a){if(a.category===g){try{a.data=new URL(a.source.href)}catch(z){}if(!a.data)return}else if(a.category===k){if(a.data=xc.analyze(xc.getFormByInput(a.source)),!a.data)return}else return;c=F;if(c.enabled&&c.modes){d=0;for(f=
c.modes.length;d<f;d++)if(A=a,E=c.modes[d],A.category===E.mode)if(A.category===g||A.category===k){if(E=E.categories,A.data){G=void 0;c:{G=0;for(t=E.length;G<t;G++){for(var p=A,r=E[G],v={category:A.category},q=[],V=0,y=r.types.length;V<y;V++){var ra=r.types[V],C=pa({type:r.category},v),N=u in ra,K;D in ra?K=b(p,ra,C,D):N&&(K=pa({source:p.source,data:p.data,detail:ra.type},C));if(K&&(!N||!b(p,ra,C,u)))if(q.push(K),(ra.rule&w)!==w)break}if(p=q.length?q:null){G=p;break c}}G=null}if(G){A=0;for(E=G.length;A<
E;A++)c:{t=G[A];p={type:"sendEvent",category:"_"+t.category,action:t.detail};if(t.category===g&&(t.type===l||t.type===x)){if(p.label=t.data.href,!p.label)break c}else if(t.category===m&&(p.label=t.data.node.action,!p.label))break c;_tmr.push(p)}}}}else n&&console.warn("[TopMailRu] Error#1.24","Not found tracking for type",A.type)}}}}function b(a,b,d,e){var g=!1,k=b[e];if(da(k)){var f=b[e+"Rule"]||z;e=(f&v)===v;for(var f=(f&p)===p,h=0,l=k.length;h<l&&!(g=c(a,k[h]),e&&g);h++)if(f&&!g)return null}else g=
c(a,k);return!g?null:pa({source:a.source,data:a.data,detail:b.type},d)}function c(a,b){var c=b.rule||z,e=(c&v)===v,c=(c&p)===p,g=!1,k;for(k in b)if(b.hasOwnProperty(k)&&"rule"!==k){var g=b[k],f;switch(k){case "domain":f=gb(a.data);break;case "fileExtension":f=Mb(a.data.pathname,/.\.([^\.]+)$/,1)||"";break;default:f=a.data[k]}g=!0===g?!!(da(f)?f.length:f):!1===g?!(da(f)?f.length:f):d(f,g);if(e&&g)break;else if(c&&!g)return!1}return g}function d(a,b){var c=a;if(c)if(da(c)){if(!c.length)return!1}else c=
[c];else return!1;var d=b,e=z;if(Z(d)&&!da(d)){if(!da(d.value))return!1;e=d.rule||e;d=d.value}a:{for(var g=(e&r)===r,f=(e&v)===v,e=(e&p)===p,k=!1,h=0,l=d.length;h<l;h++){var m=d[h];if(m){var s="string"===typeof m;s&&!g&&(m=m.toLowerCase());var n=m instanceof RegExp;if(s||n){var k=!0,q;b:{q=c;for(var w=g,u=0,x=q.length;u<x;u++){var y=w?q[u]:q[u].toLowerCase();if(n&&m.test(y)||s&&m===y){q=!0;break b}}q=!1}if(f&&q){c=!0;break a}else if(e&&!q){c=!1;break a}}}}c=f?!1:e?k?!0:!1:void 0}return c}var g="click",
k="submit",h=[{category:k,types:[{type:"button",filter:{tagName:["input","button"],attr:{type:["submit","image"]}}}]},{category:g,types:[{type:"a",filter:{tagName:["a"],attr:{href:!0}}}]}],l="file",x="resource",m="submit",D="filter",u="stop",v=1,p=2,r=4,w=8,z=v,F={enabled:!0,modes:[{mode:k,categories:[{category:m,types:[{type:"lead",filter:[{inputsName:["phone"],inputsType:["tel"],rule:v},{inputsName:["email"],inputsType:["email"],rule:v}],filterRule:p,stop:{inputsName:{value:["password"]}}},{type:"form",
filter:{inputsName:!0}}]}]},{mode:g,categories:[{category:"contact",types:[{type:"email",filter:{protocol:["mailto:"]}},{type:"phone",filter:{protocol:["tel:"]}}]},{category:l,types:[{type:"file",filter:{fileExtension:"7z bz2 gz apk iso cab dmg msi rar tar zip exe txt doc docx ppt pptx xls xlsx csv pdf psd rtf ods djvu eps 3gp aac ac3 avi flac flv divx midi mka mkv mp3 mp4 mpeg mpg mov ogg vob wav webm wma wmf wmv torrent".split(" ")}}]},{category:x,types:[{type:"outgoing",rule:w,stop:{domain:[Ac(y.host,
3,!1)],href:[/password/]}},{type:"messenger",filter:{domain:hb("vk.me t.me telegram.me telegram.im web.telegram.org m.me web.whatsapp.com api.whatsapp.com chat.whatsapp.com wa.me".split(" "))},stop:{href:[/password/]}},{type:"social",filter:{domain:hb("vk.com vkontakte.ru m.vk.com vk.ru ok.ru m.ok.ru odnoklassniki.ru facebook.com m.facebook.com fb.com twitter.com linkedin.com instagram.com tiktok.com youtube.com youtu.be m.youtube.com".split(" "))},stop:{href:[/password/]}}]}]}]},J=1,M=13;return{enabled:!0,
start:function(){q(f,"click",a);q(f,"keypress",a)}}}();kd&&wc.start()}var z=function(){function a(){b(null)}function b(a){g();a?(X=a===V,oa=a):oa=Y&&null!==X?X?V:aa:f.visibilityState;a=B();for(var b in ia)r(b,a)}function c(){if(!1!==R){N(e,Z,ha);ha=null;e.clearInterval(ka);la=ka=null;N(f,O,ea);ea=null;Y&&(N(e,T,fa),N(e,$,ga),ga=fa=null);k(!0);for(var a in ba){var b=a,c=ba[b];c&&(c=c.key,Q(b),H(),delete ba[b],A(null,c))}I=null;ja=[];va=[];L={};ba={};ia={};R=!1}}function d(a,b,c){var d=a+"_"+b;if(d in
L)return!1;var e=x(),g=B(),f=C(d,e,qb);b=L[d]={id:a||null,name:b,key:f,canUseInBackground:!!c,startTS:e,updateTS:g,timespent:{}};if(a)if(va.push(d),d=b.canUseInBackground,b=ia[a]){if(c=b.isActive,!c&&(e=I&&ca(a,I)))if(c=oa===V||d)b.updateTS=g,b.isActive=!0}else e=I&&ca(a,I),c=oa===V||d,ia[a]={isActive:e&&c,updateTS:g,timespent:{}};else ja.push(d);return!0}function g(a,b){var c,d;2>arguments.length?(c=va.concat(ja),d=G):(c=[a+"_"+b],d=E);h(c,d)}function k(a,b,c){var d=!1,e=[],g=[];2>arguments.length?
(e=va.slice(),(d=!!arguments[0])&&(e=e.concat(ja))):(d=a+"_"+b,-1!==va.indexOf(d)?e=[d]:-1!==ja.indexOf(d)&&(c?e=[d]:g=[d]));h(e,U);h(g,E)}function h(a,b){var c=B(),d=[],e,g,f;e=0;for(g=a.length;e<g;e++)f=a[e],-1!==va.indexOf(f)?l(f,b,c):-1!==ja.indexOf(f)&&d.push(f);e=0;for(g=d.length;e<g;e++)f=d[e],l(f,b,c);if(b===G&&(W=c,W-R>=qa)){for(var k in L)m(k);for(k in ba)if(c=k,d=ba[c])Q(c),A(c,d.key);R=W}}function l(a,b,c){var d=L[a];if(d&&!1!==d.updateTS)if(d.timespent[oa]=(d.timespent[oa]||0)+(c-(d.updateTS||
W)),-1!==ja.indexOf(a)&&w(null,c),b===U)d.updateTS=!1,m(a);else if(b===t){d.updateTS=c;var e;a:{if(b=L[a])for(e in b.timespent)if(b.timespent[e]>pa){e=!1;break a}e=!0}e?(n(a),H()):m(a)}else d.updateTS=b===G?null:c,n(a),H()}function n(a,b,c){var d=L[a];if(!d)return null;var e=b||d.key;b=S[e];S[e]={uid:a,name:d.name,counterID:c||d.id||I,canUseInBackground:d.canUseInBackground,isActive:!1!==d.updateTS,startTime:d.startTS,timespent:{}};a=S[e].timespent;var d=d.timespent,g;for(g in d)a[g]=d[g];if(c&&(c=
ia[c]))if(e=S[e]){e.common={};e=e.common;c=c.timespent;for(var f in c)e[f]=c[f]}return b||null}function m(a){var b=L[a];b&&(n(a),y(a,b.key))}function y(a,b){var c=S[b];if(c)if(da(c.counterID)){var d=S[b];if(d){var c=d.counterID,e=[],g,f,k,h;if(c){k=0;for(h=c.length;k<h;k++){f=c[k];g=C(b,f);e.push(g);f=n(a||d.uid,g,f);var l=void 0;f&&(l=S[g],F(l.timespent,f.timespent),f.common&&(l.common=l.common||{},F(l.common,f.common)))}}delete S[b];H();if(a&&a in L)if(d.isActive){v(a);k=0;for(h=c.length;k<h;k++)if(d=
ia[c[k]])for(var m in d.timespent)d.timespent[m]=0}else p(a);k=0;for(h=e.length;k<h;k++)u(e[k])}}else if(m=S[b])(c=a&&a in L)&&!m.isActive&&p(a),e=u(b),c&&(e&&m.isActive)&&v(a)}function u(a){var b;if(b=S[a]){var c=P(b.timespent);if(!1===b.canUseInBackground&&b.isActive&&0===c.fg)b=null;else{c=[b.name,b.startTime,b.canUseInBackground?1:0,c.fg,c.bg];if(b.common){var d=P(b.common);(d.fg||d.bg)&&c.push(d.fg,d.bg)}b={id:b.counterID,msg:c.join("/")}}}else b=!1;if(!b)return!1;c=";e="+escape("TS:"+b.msg);
J(M({id:b.id},K,!1,!1)+c);delete S[a];H();return!0}function v(a){if(a=L[a])for(var b in a.timespent)a.timespent[b]=0}function p(a){if(a in L){var b;-1!==(b=ja.indexOf(a))&&ja.splice(b,1);if(-1!==(b=va.indexOf(a)))if(va.splice(b,1),b=L[a].id){var c=ia[b];if(c){var d=c.isActive;d&&D(c,B());d=z(b,a);d||(c.isActive=!1)}}delete L[a]}}function r(a,b){var c=ia[a];if(c){var d=I&&ca(a,I),e=z(a);c.isActive=d&&e;c.updateTS=b}}function w(a,b){if(a){var c=ia[a];c&&(c.isActive?D(c,B()):c.updateTS=b)}else for(c in ia)w(c,
b)}function z(a,b){for(var c in L)if(c!==b&&L[c].id===a&&(oa===V||L[c].canUseInBackground))return!0;return!1}function D(a,b){a&&(a.timespent[oa]=(a.timespent[oa]||0)+(b-a.updateTS),a.updateTS=b)}function C(a){return[].join.call(arguments,"_")}function F(a,b){for(var c in b)a[c]=(a[c]||0)+(b[c]||0)}function P(a){var b=a[V]||0,c=0,d;for(d in a)d!==V&&(c+=a[d]);return{fg:b,bg:c}}function B(){return Math.floor(e.performance.now())}function H(){if(ma){var a={};a[ta]=S;a[ua]=xa;Aa(sa,wa(a)||"")}}function Q(a){var b=
ba[a];b&&(xa[b.key]={uid:a,name:b.name,counterID:b.id,value:b.value})}function A(a,b){if(xa[b]){var c;if(c=xa[b])if(0===c.value)c=null;else{var d=[c.name,c.value].join("/");c={id:c.counterID,msg:d}}else c=!1;c&&(d=";e="+escape("TS:"+c.msg),J(M({id:c.id},K,!1,!1)+d));!1!==c&&(delete xa[b],H());if(c&&a&&(c=ba[a]))c.value=0}}var E=1,G=2,t=4,U=8,Z=na?"pagehide":"unload",O="visibilitychange";"mozHidden"in f?O="mozvisibilitychange":"webkitHidden"in f?O="webkitvisibilitychange":"msHidden"in f&&(O="msvisibilitychange");
var T="focus",$="blur";"onfocusin"in f&&(T="focusin",$="focusout");var V="visible",aa="hidden",ra=["0"],Y=!1,pa=100,qa=12E4,R=!1,W=!1,I=null,ja=[],va=[],L={},oa,X=null,ka,la,ea,fa,ga,ha,sa="tmr_tslog",ta="activity",ua="count",S={},ba={},xa={},ia={};return{init:function(){if(ma){var a=$a(ya(sa)||"{}");S=a[ta]||{};xa=a[ua]||{}}for(var b in S)y(null,b);for(b in xa)A(null,b)},launch:function(){!1===R&&(R=B(),W=B(),oa=Y&&null!==X?X?V:aa:f.visibilityState,ha=c.bind(e),q(e,Z,ha),la=a.bind(e),ka=e.setInterval(la,
1E4),ea=b.bind(e,null),q(f,O,ea),Y&&(fa=b.bind(e,V),ga=b.bind(e,aa),q(e,T,fa),q(e,$,ga)))},enable:function(a){if(I){if(ca(a,I))return;h(ja,t)}else{for(var b=0,c=ra.length;b<c;b++)d(null,ra[b],!1);I=[]}I.push(a);r(a,B())},disable:function(a){if(I){var b;a:{b=0;for(var c=I.length;b<c;b++)if(I[b]==a)break a;b=-1}if(-1!==b&&(h(ja,t),I.splice(b,1),b=B(),a=ia[a]))a.isActive=!1,a.updateTS=b}},startActivity:d,updateActivity:g,stopActivity:k,incCount:function(a,b){var c=a+"_"+b,d;if(!(d=ba[c]))if(c in ba)d=
ba[c];else{d=x();var e=C(b,d,qb);d=ba[c]={id:a,name:b,key:e,startTS:d,value:0}}d&&d.id===a&&(d.value++,Q(c),H())},defaultID:function(){return I?I[0]:void 0}}}(),ob=!1,Ga=null;hc&&function(){function a(){var a=ya(e);if(a)try{(a=$a(a))&&(Ga=a.fpid||null)}catch(b){}c()}function b(){c()}function c(){Aa(d,wa({fpid:Ga,ts:x()}))}var d="tmr_trgfpid",e="rb_sync_id";(function(){var c=ma?ya(d):null;if(c)try{if(c=$a(c))if(Ga=c.fpid||null,864E5>x()-c.ts)return}catch(e){}mb("https://privacy-cs.mail.ru/static/sync-loader.js",
a,b)})()}();var Wc="60.6.0",Ya=0,Ja=0,qb=Ob(16),T=null,qa=null,Ia=0,Da="tmr_reqNum",H=null;ea&&(H=ka(Da)||null,null!==H&&kb(Da,lb));ma&&null===H&&(H=ya(Da)||null);H=null===H?0:parseInt(H,10);ma&&Aa(Da,H);var pd=["c8fdd627023b870e211a908648e1a5e1"],R=(ea?ka("tmr_lvid"):null)||(ma?ya("tmr_lvid"):null),fa=(ea?ka("tmr_lvidTS"):null)||(ma?ya("tmr_lvidTS"):null);if(null===R||-1===R.search(/^[0-9a-fA-F]+$/)||Lb(R,pd))R=Ob(32),fa=null;Sb("tmr_lvid",R);if(null===fa||-1===fa.search(/^\d+$/))fa=""+x();Sb("tmr_lvidTS",
fa);var $=0,C=[],La=[],db=[],cb=[],ab=[],Za={},Uc="ontouchstart"in e||1<(B.maxTouchPoints||B.msMaxTouchPoints)?"1":"0",Vc=e.devicePixelRatio||0,Tc=function(){var a=e.screen;return a?a.width+"*"+a.height:""}(),Eb=e.performance||e.mozPerformance||e.msPerformance||e.webkitPerformance||{},Ra=Eb.timing||{},rb=Eb.navigation||{},fc="unloadEventStart unloadEventEnd redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd domLoading domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),
qd="startTime duration firstInterimResponseStart redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd".split(" "),Sa=Ca("navigationStart"),rd=Ca("domContentLoadedEventStart"),sd=Ca("loadEventStart"),Y=Sa,Ta=null,Fa=[];(function(){if(!Ta)try{for(var a=Eb.getEntriesByType("resource"),b,c=0,d=a.length;c<d;c++)if(b=a[c],b.name===document.currentScript.src){for(var e=b,f=qd,h=[],l=0,q=f.length;l<q;l++)h.push(Math.round(e[f[l]]||
0));Ta=h.join("/");b.deliveryType&&Fa.push("cdt="+b.deliveryType);b.nextHopProtocol&&Fa.push("cnhp="+b.nextHopProtocol);if(b.encodedBodySize||b.decodedBodySize||b.transferSize)Fa.push("cs="+[b.encodedBodySize||0,b.decodedBodySize||0,b.transferSize||0].join("-"))}}catch(m){n&&console.warn("[TopMailRu] Error#1.32","Resource timing error",m)}})();var gc="downlink downlinkMax effectiveType rtt saveData type".split(" "),W,Fb;W=function(a,b,c){if(b&&"object"===typeof b){var d="id"in b&&b.id||$,e=c.title||
null,f,h=Fb(b,{params:c.required,fn:c.fn});if(h.missed.length)console.warn("[TopMailRu]"+(d?"["+d+"]":"")+" Error#1.14","Unspecified "+(1<h.missed.length&&h.missed.slice(0,-1).join(", ")+" and "||"")+h.missed.slice(-1)+" in "+a);else{var l=Fb(b,{params:c.optional,fn:c.fn});f=[].concat(h.values).concat(l.values);h=[].concat(h.missed).concat(l.missed);c.value&&(b="value"in b&&b.value,!0!==c.value&&(b=b||c.value),b?f.push("value: "+b):h.push("value"));c=f.length?"{ "+f.join(", ")+" }":"";f=h.length?
"("+(1<h.length?h.slice(0,-1).join(", ")+" and "+h.slice(-1)+" are":h.slice(-1)+" is")+" empty)":"";d?console.info("[TopMailRu]["+d+"]: "+(e||a)+" "+c+" "+f):console.warn("[TopMailRu] Error#1.15","Undefined counter ID of "+a+" "+c)}}else console.warn("[TopMailRu][]["+a+"] Error#1.13")};Fb=function(a,b){var c=[],d=[],e,f,h;if(b.params)for(e in b.params)if(b.params.hasOwnProperty(e)&&!1!==b.params[e])if(f=e in a&&a[e],!0!==b.params[e]&&(f=f||b.params[e]),f)try{h=b.fn?b.fn:null,c.push(e+': "'+(h?h(e,
f):f)+'"')}catch(l){console.warn("[TopMailRu] Error#1.16",l)}else d&&d.push(e);return{values:c,missed:d}};var D={},Wa=null,Va=null,zb=[];l.prototype.callbackOnReady=function(a){n&&W("onReady",a,{title:"OnReady callback"});a&&"object"===typeof a&&"function"===typeof a.callback&&(a.callback.call(a.context||null),na&&zb.push(a))};l.prototype.pageView=function(a){Ba(a);a:if(a&&"object"===typeof a&&a.id){5>La.length&&!ca(a.id,La)&&(La.push(a.id),!1!==a.beat&&db.push(a.id),C.push(a),Ha&&Tb(a));na&&(Za[a.id]=
pa(!0,{},a),Za[a.id].bfCache=!0);"detectBlocker"in a&&!a.detectBlocker&&(tb=!0);var b="string"===typeof a.ecommerce,c=b&&-1!==a.ecommerce.search(/\S/);if(5>cb.length&&!ca(a.id,cb)&&(!0===a.ecommerce||b&&!c||b&&c||!1!==a.ecommerce&&!b&&(ca(a.id,md)||!ca(a.id,nd)))){cb.push(a.id);if(b&&c){if(Ab&&(Bb(a.ecommerce),U!==a.ecommerce)){U=a.ecommerce;P&&(P=[0,0,U]);break a}U=a.ecommerce;P&&(P=[0,0,U])}b=[a.id];if(Ab)for(var c=0,d=bb.length;c<d;c++)Ub(b,bb[c])}a.timespent=Q&&(a.timespent||ca(a.id,jd)&&!1!==
a.timespent);Q&&(a.timespent?z.enable(a.id):z.disable(a.id));Cb||(Cb=!0===a.geolocation||a.timespent&&!1!==a.geolocation)&&vc(Db);ob&&!ca(a.id,ab)&&(ab.push(a.id),Yb([a.id]))}n&&W("pageView",a,{title:"Page view",optional:{url:y.href}});O(a)&&(J(M(a,"/counter",!1,!0)),Ja=x())};l.prototype.reachGoal=function(a){Ba(a);n&&W("reachGoal",a,{title:"Reach goal",value:!0,required:{goal:!0}});if(O(a)&&"goal"in a&&a.goal){var b="value"in a&&a.value?parseInt(a.value)||"":"";J(M(a,K,!1,!0)+(";e="+escape("RG:"+
b+"/"+a.goal)))}};var vb="VALUE";l.prototype.itemView=function(a){n&&W("itemView",a,{title:"Item view",optional:{list:!0,pagetype:!0,productid:!0,totalvalue:!0},fn:function(a,b){return(""+b).replace(/;/g," ")}});if(O(a)){var b=a.list||"",c=a.productid||"",d=a.pagetype||"",e=a.totalvalue||0,f=dd(a.id,d,e,c);f&&this.reachGoal(f);(new Image).src="https://ad.mail.ru/retarget/?counter="+(a.id||$)+"&list="+b+"&productid="+c+"&pagetype="+d+"&totalvalue="+e+"&_="+Math.random();b="IV:"+e+"/"+(""+b).replace(/;/g,
" ")+";"+(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");J(M(a,K,!1,!0)+(";e="+escape(b)))}};var ed="vk_ecom_";l.prototype.sendEvent=function(a){Ba(a);n&&W("sendEvent",a,{title:"Send event",value:!0,required:{category:!0,action:!0},optional:{label:!0},fn:function(a,b){return(""+b).substring(0,300).replace(/;/g," ")}});if(O(a)&&"category"in a&&a.category&&"action"in a&&a.action){var b=(""+a.category).substring(0,300),c=(""+a.action).substring(0,300),d="label"in a&&a.label?(""+a.label).substring(0,
300):"",b="CE:"+("value"in a&&a.value?parseInt(a.value)||"":"")+"/"+(""+b).replace(/;/g," ")+";"+(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");J(M(a,K,!1,!0)+(";e="+escape(b)))}};l.prototype.setUserID=function(a){if(null===a||!1===a||void 0===a)this.deleteUserID();else{var b=typeof a;"number"!==b&&"string"!==b?n&&console.warn("[TopMailRu] Error#1.17","Invalid user ID in setUserID"):(T=a,n&&console.info("[TopMailRu]: Global user ID = "+T))}};l.prototype.getUserID=function(){return T||0===T?
T:void 0};l.prototype.deleteUserID=function(){T=null;n&&console.info("[TopMailRu]: Reset global user ID to null")};l.prototype.setUserParams=function(a){if(null===a||!1===a||void 0===a)this.deleteUserParams();else if(Z(a)){try{qa=pa(!0,{},a)}catch(b){n&&console.warn("[TopMailRu] Error#1.22","Invalid user params in setUserParams");return}n&&console.info("[TopMailRu]: Global user params = "+wa(qa))}else n&&console.warn("[TopMailRu] Error#1.21","Invalid user params in setUserParams")};l.prototype.getUserParams=
function(){var a=qa?qa:void 0;return a?pa(!0,{},a):void 0};l.prototype.deleteUserParams=function(){qa=null;n&&console.info("[TopMailRu]: Reset global user params to null")};l.prototype.getClientID=function(){var a=R;return a||0===a?a:void 0};l.prototype._MT_event=function(a,b,c){Ba(a);n&&W(b,a,{title:c});O(a)&&J(M(a,K,!1,!0)+(";e="+escape("MT:/"+b)))};l.prototype.miniAppEvent=function(a){this._MT_event(a,"miniAppEvent","VK Mini App Event")};var Gb=function(a,b){if(Q){var c=z.defaultID();O(a,c)&&(!Z(a)||
!("activity"in a&&a.activity)?n&&console.warn("[TopMailRu] Error#1.27","Invalid startActivity command: ID of activity is required"):z.startActivity(a.id||c,""+a.activity,null===b?!!a.canUseInBackground:b))}};l.prototype.startTimespent=function(a){Gb(a,null)};l.prototype.startForegroundTimespent=function(a){Gb(a,!1)};l.prototype.startAnytimeTimespent=function(a){Gb(a,!0)};l.prototype.updateTimespent=function(a){if(Q){var b=z.defaultID();O(a,b)&&(!Z(a)||!("activity"in a&&a.activity)?z.updateActivity():
"number"===typeof a.activity||"string"===typeof a.activity?z.updateActivity(a.id||b,""+a.activity):n&&console.warn("[TopMailRu] Error#1.28","Invalid updateActivity command: ID of activity should be number or string"))}};l.prototype.stopTimespent=function(a){if(Q){var b=z.defaultID();O(a,b)&&(!Z(a)||!("activity"in a&&a.activity)?z.stopActivity(!1):"number"===typeof a.activity||"string"===typeof a.activity?z.stopActivity(a.id||b,""+a.activity,!1):n&&console.warn("[TopMailRu] Error#1.29","Invalid stopActivity command: ID of activity should be number or string"))}};
l.prototype.incrementEventTimespent=function(a){if(Q){var b=z.defaultID();O(a,b)&&(!a||!("activity"in a&&a.activity)?n&&console.warn("[TopMailRu] Error#1.31","Invalid incrementEventTimespent command: ID of countable activity is required"):z.incCount(a.id||b,""+a.activity))}};l.prototype.processEvent=function(a,b){if(a&&"object"===typeof a)if("type"in a){if("onready"===a.type){if(b&&0>b)return;this.callbackOnReady(a)}else if(b&&0<b)return;switch(a.type){case "pageView":this.pageView(a);break;case "reachGoal":this.reachGoal(a);
break;case "itemView":this.itemView(a);break;case "sendEvent":this.sendEvent(a);break;case "setUserID":"userid"in a&&this.setUserID(a.userid);break;case "deleteUserID":this.deleteUserID();break;case "setUserParams":"params"in a&&this.setUserParams(a.params);break;case "deleteUserParams":this.deleteUserParams();break;case "miniAppEvent":this.miniAppEvent(a);break;case "startTimespent":this.startTimespent(a);break;case "startForegroundTimespent":this.startForegroundTimespent(a);break;case "startAnytimeTimespent":this.startAnytimeTimespent(a);
break;case "updateTimespent":this.updateTimespent(a);break;case "stopTimespent":this.stopTimespent(a);break;case "incrementEventTimespent":this.incrementEventTimespent(a)}}else n&&console.warn("[TopMailRu] Error#1.19","Unspecified type of push event");else n&&console.warn("[TopMailRu] Error#1.18","Invalid push event")};l.prototype.push=function(a){for(var b=0,c=arguments.length;b<c;b++)this.processEvent(arguments[b])};var yc=!1;l.prototype.onready=function(){yc||(yc=!0,!tb&&!Ha&&ld(Xc,Yc),Bb(U),Zc())};
var yb=!1;l.prototype.onload=function(){if(!yb){yb=!0;Ia=x();if(!Ma&&0<C.length){for(var a=";e="+escape("RT/load")+";et="+Ia,b=0;b<C.length;b++)J(M(C[b],K,!0,!0)+a);Ja=Ia}ad()}};l.prototype.beat=function(){var a;if(!ub&&Ya){var b=x();if(!(12E4<b-Ya)){if(12E4<b-Ja){a=";e="+escape("RT/resend")+";et="+Ia;for(var c=0;c<C.length;c++)!1!==C[c].beat&&J(M(C[c],K,!1,!0)+a)}else 0<db.length&&(a=";e="+escape("RT/beat")+";ids="+escape(db.join()),J(M({id:db[0]},K,!1,!0)+a));Ja=b}}};var xb=!1;l.prototype.unload=
function(){if(!xb){xb=!0;if(!Ma){var a;a=(a=Zb())?x()-a:void 0;a=";e="+escape("RT/unload")+";et="+x()+(a?";pvt="+escape(a):"");if(ga.support){var b=ga.getLog();a+=";vtauto="+b.auto}for(b=0;b<C.length;b++)J(M(C[b],K,!0,!0)+a)}na&&(D.dcl3&&(clearTimeout(D.dcl3),delete D.dcl3),D.pvt2&&(clearTimeout(D.pvt2),delete D.pvt2),D.pvt15&&(clearTimeout(D.pvt15),delete D.pvt15),D.beat&&(clearInterval(D.beat),delete D.beat))}};l.prototype.activity=function(a){Ya=x()};var sa=_tmr;_tmr=new l;Q&&z.init();for(var F=
0,Oa=sa.length,X;F<Oa;F++)(X=sa[F])&&"object"===typeof X&&Ba(X);eb=(new Date).getTime();F=0;for(Oa=sa.length;F<Oa;F++)X=sa[F],_tmr.processEvent(X,1);Pa=(new Date).getTime();F=0;for(Oa=sa.length;F<Oa;F++)X=sa[F],_tmr.processEvent(X,-1);"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll?(Va=rd,_tmr.onready(),mc()):f.addEventListener?q(f,"DOMContentLoaded",Xa):f.attachEvent&&q(f,"readystatechange",Xa);"complete"===f.readyState?(Wa=sd,_tmr.onload()):na?q(e,"pageshow",wb):
q(e,"load",wb);na?q(e,"pagehide",Ka):(q(e,"unload",Ka),q(e,"beforeunload",Ka));lc();if(!ub)try{for(var zc="scroll gesturechange touchmove mousedown mousemove mouseup touch".split(" "),td=function(a){q(f,a,function(){_tmr.activity(a)})},F=0;F<zc.length;F++)td(zc[F]);q(e,"scroll",function(){_tmr.activity("scallback")})}catch(ud){n&&console.warn("[TopMailRu] Error#1.20",ud)}Qa=(new Date).getTime()}})();
